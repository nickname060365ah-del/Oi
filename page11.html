<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>MC Command — แจกคอมมาน</title>
<style>
:root{
  --bg:#0e0e0e; --panel:#0f0f0f; --card:#111213; --line:#202124;
  --muted:#9aa0a6; --accent:#4da3ff; --white:#fff; --press:#232428;
  --transition: .26s cubic-bezier(.2,.9,.2,1);
  --hero-pad:20px;
}

/* Reset */
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--white);font-family:Inter,system-ui,"Segoe UI",Tahoma,Arial,sans-serif;-webkit-font-smoothing:antialiased}
a{color:inherit;text-decoration:none}
button{font:inherit;background:transparent;border:0;color:inherit;cursor:pointer}

/* remove mobile blue highlight */
* { -webkit-tap-highlight-color: transparent; }

/* Topbar */
.topbar{position:sticky;top:0;z-index:60;background:var(--panel);border-bottom:1px solid var(--line);display:flex;align-items:center;gap:12px;padding:12px 14px}
.hamb{width:44px;height:44px;border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer}
.hamb svg{width:22px;height:22px;fill:var(--white)}
.brand{font-weight:800;font-size:22px;color:var(--accent);margin-left:6px}
.spacer{flex:1}
.header-img{width:46px;height:36px;border-radius:8px;border:2px solid rgba(255,255,255,0.06);background:rgba(255,255,255,0.02);display:flex;align-items:center;justify-content:center}

/* Layout */
.container{display:flex;min-height:calc(100vh - 64px);position:relative}

/* Sidebar overlay (when menu open) */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,0.45);opacity:0;pointer-events:none;transition:opacity .22s;z-index:65}
.overlay.show{opacity:1;pointer-events:auto}

/* Sidebar */
.sidebar{position:fixed;left:-120%;top:0;height:100%;width:86vw;max-width:420px;background:var(--panel);box-shadow:2px 0 40px rgba(0,0,0,.6);z-index:70;padding:20px;transition:left var(--transition);overflow:auto;border-right:1px solid var(--line);border-radius:0 12px 12px 0}
.sidebar.open{left:0}

/* Close X */
.closeBtn{position:absolute;right:14px;top:14px;width:44px;height:44px;border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;background:rgba(255,255,255,0.02)}
.closeBtn svg{width:20px;height:20px;fill:var(--white);opacity:.95}

/* Menu items */
.sidebar h3{color:var(--accent);font-size:28px;margin:6px 0 14px}
.menu-list{list-style:none;padding:0;margin:0}
.menu-item{padding:16px 6px;border-bottom:1px solid var(--line);display:flex;align-items:center;justify-content:space-between}
.menu-item a{flex:1;font-size:20px;color:var(--white);padding-right:8px}
.menu-item .chev{color:var(--muted);font-size:18px}
.menu-item a:focus, .menu-item a.pressed { background:var(--press); border-radius:8px; outline:none; box-shadow:none; }

/* Info blocks in menu */
.info-pill{margin-top:14px;padding:12px;background:rgba(255,255,255,0.03);border-radius:10px;color:var(--muted);font-size:14px}
.block-box{margin-top:18px;padding:14px;background:rgba(255,255,255,0.02);border-radius:12px}
.block-box p{margin:8px 0;color:var(--muted);font-size:15px;line-height:1.4}

/* Content */
.content{flex:1;padding:22px 20px;max-width:1100px;margin:0 auto}
.hero{padding:calc(var(--hero-pad) + 2px);border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);margin-bottom:18px;display:block;overflow:hidden}

/* hero typography */
.hero-inner{max-width:920px;padding-left:2px;transform:translateY(14px);opacity:0;transition:transform .6s cubic-bezier(.2,.9,.2,1),opacity .6s}
body.ready .hero-inner{transform:none;opacity:1}
.hero h1{
  font-size: clamp(28px, 6vw, 40px);
  line-height: 1.02;
  margin:0 0 8px;
  color:var(--white);
  font-weight:700;
  text-align:left;
  letter-spacing: -0.5px;
}
.hero p{
  color:var(--muted);
  margin:0 0 12px;
  max-width:820px;
  text-align:left;
  font-size:15px;
  line-height:1.5;
  opacity:.95;
}

/* Boxes (stagger animation) */
.boxes{display:flex;flex-direction:column;gap:16px;will-change:transform,opacity}
@media(min-width:760px){.boxes{flex-direction:row}}
.box{background:var(--card);padding:18px;border-radius:12px;border:1px solid var(--line);flex:1;transition:transform .28s,box-shadow .12s,background .12s,opacity .48s;cursor:pointer;min-height:92px;display:flex;flex-direction:column;justify-content:center;opacity:0;transform:translateY(12px)}
body.ready .box{opacity:1;transform:none}
.box:nth-child(1){transition-delay:.12s}
.box:nth-child(2){transition-delay:.22s}
.box:nth-child(3){transition-delay:.32s}
.box h2{color:var(--accent);margin:0 0 8px;font-size:20px}
.box p{margin:0;color:var(--muted)}
.box:focus, .box.pressed { background:var(--press); outline:none; }

/* download area */
.controls{display:flex;gap:12px;align-items:center;margin:14px 0;flex-wrap:wrap}
.searchInput{flex:1;min-width:160px;padding:14px;border-radius:12px;background:rgba(255,255,255,0.02);border:1px solid var(--line);color:var(--muted)}
.select{padding:12px 14px;border-radius:12px;background:rgba(255,255,255,0.02);border:1px solid var(--line);color:var(--muted)}
.btn{padding:12px 18px;border-radius:12px;background:var(--accent);color:#052033;font-weight:700;cursor:pointer;border:0;position:relative;overflow:visible;transition:transform .12s ease,box-shadow .12s}
.btn:active{transform:scale(.98)}
.copyAll{padding:12px 18px;border-radius:12px;background:rgba(255,255,255,0.04);color:var(--white);cursor:pointer;border:0}

/* ripple effect (white square) */
.btn .ripple{
  position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(.6);width:24px;height:24px;background:#fff;border-radius:6px;opacity:0;pointer-events:none;
}
.btn.rippleing{box-shadow:0 6px 18px rgba(0,0,0,.4)}
.btn.rippleing .ripple{animation:btnRipple .42s cubic-bezier(.2,.8,.2,1) forwards}
@keyframes btnRipple{
  0%{opacity:0;transform:translate(-50%,-50%) scale(.4)}
  20%{opacity:0.28}
  70%{opacity:0.18;transform:translate(-50%,-50%) scale(2.2)}
  100%{opacity:0;transform:translate(-50%,-50%) scale(3.6)}
}

/* subtle page flash when navigating (non-blocking) */
.navFlash{position:fixed;inset:0;background:#fff;opacity:0;pointer-events:none;z-index:100;transition:opacity .14s}
.navFlash.show{opacity:0.07}

/* command box */
.cmd-box{background:#070707;border-radius:10px;padding:14px;margin-top:12px;color:#e9e9e9;font-family:ui-monospace,SFMono-Regular,Menlo,monospace;font-size:15px;white-space:pre-wrap;line-height:1.45;overflow:auto;max-height:320px;border:1px solid rgba(255,255,255,0.03)}

/* footer */
footer{padding:22px;text-align:center;color:var(--muted);border-top:1px solid var(--line);margin-top:18px}

/* accessibility */
:focus{outline:none}
</style>
</head>
<body>

<!-- topbar -->
<div class="topbar">
  <button class="hamb" id="hambBtn" aria-label="เปิดเมนู">
    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 6h18v2H3zM3 11h18v2H3zM3 16h18v2H3z"/></svg>
  </button>
  <div class="brand">MC Command</div>
  <div class="spacer"></div>
  <div class="header-img" id="headerImg" title="โปรไฟล์"></div>
</div>

<div class="container">
  <div id="overlay" class="overlay" aria-hidden="true"></div>

  <aside id="sidebar" class="sidebar" aria-hidden="true" role="navigation">
    <div class="closeBtn" id="closeBtn" aria-label="ปิดเมนู">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M18.3 5.71L12 12l6.3 6.29-1.41 1.42L10.59 13.4 4.29 19.71 2.88 18.29 9.18 12 2.88 5.71 4.29 4.29 10.59 10.6 16.89 4.29z"/></svg>
    </div>

    <h3>เมนู</h3>

    <ul class="menu-list" id="menuList">
      <li class="menu-item"><a href="index.html" target="_self">หน้าหลัก</a><span class="chev">›</span></li>
      <li class="menu-item"><a href="commands.html" target="_self">คำสั่งทั้งหมด</a><span class="chev">›</span></li>
      <li class="menu-item"><a href="commands-basic.html" target="_self">คำสั่งพื้นฐาน</a><span class="chev">›</span></li>
      <li class="menu-item"><a href="map-system.html" target="_self">ระบบแมพ</a><span class="chev">›</span></li>
    </ul>

    <div class="info-pill">จุดเด่น: Bedrock 100% ก็อปใช้ได้</div>

    <div class="block-box">
      <p>จุดเด่น — Bedrock แท้ 100% ที่ทดสอบแล้ว</p>
      <p>คู่มือเล็ก — Tips & Tricks สำหรับมือใหม่</p>
      <p>แนวทางจัดระบบ — ตัวอย่างแยกหมวดอย่างเป็นระบบ</p>
      <p>ติดต่อเรา — ช่องทาง Discord: mew303</p>
    </div>

    <div style="margin-top:16px;border-top:1px solid var(--line);padding-top:10px;color:var(--muted);font-size:14px">
      <div style="margin:8px 0"><a href="how-to-install.html">เกี่ยวกับเว็ป</a></div>
      <div style="margin:8px 0"><a href="rules.html">กฎการใช้งาน</a></div>
      <div style="margin:8px 0"><a href="contact.html">ติดต่อเรา</a></div>
    </div>
  </aside>

  <main class="content" id="mainContent" role="main">
    <!-- HERO -->
    <section class="hero" aria-labelledby="heroTitle">
      <div class="hero-inner">
        <h1 id="heroTitle">แจกคอมมานซื้อของ — By Pain</h1>
        <p>รวมคำสั่ง Minecraft Bedrock (แจกระบบซื้อของใน NPC) — จัดเป็นหมวด อ่านง่าย ก็อปได้จริง</p>
      </div>
    </section>

    <!-- controls -->
    <div class="controls">
      <input class="searchInput" id="search" placeholder="ค้นหา... (เช่น give, tag, playsound)" aria-label="ค้นหา">
      <select class="select" id="filter"><option value="all">ทั้งหมด</option></select>

      <button class="btn" id="downloadBtn" aria-label="ดาวน์โหลดคำสั่ง">
        ดาวน์โหลด
        <span class="ripple" aria-hidden="true"></span>
      </button>

      <button class="copyAll" id="copyBtn">คัดลอกทั้งหมด</button>
    </div>

    <!-- content boxes -->
    <section class="boxes" aria-label="ตัวเลือก">
      <a class="box" href="#buy" role="button">
       <h2>ซื้อของ</h2>
        <p>ระบบ NPC</p>
      </a>

      <a class="box" href="#sell" role="button">
        <h2>คำสั่งขายของ</h2>
        <p>ระบบ NPC</p>
      </a>

      <a class="box" href="#trade" role="button">
        <h2>แลกของ</h2>
        <p>ระบบ NPC</p>
      </a>
    </section>

    <!-- commands area (this is the block the download will use) -->
    <section id="commandsSection" style="margin-top:18px">
      <h3>คำสั่งในช่องแชท</h3>
      <div id="commands" class="cmd-box">
/give @s command_block
/give @s spawn_egg 1 51
/gamerule commandblockoutput false
/gamerule sendcommandfeedback false
/tickingarea add circle ~~~ 4 t
/scoreboard objectives add m dummy

/tag @n[type=npc] add b   ไปยืนในตัว NPC แล้วพิมพ์คำสั่งนี้ในแชท

-- (คอมมานม่วง) --
dialogue open @e[type=npc,tag=b] @a[tag=b]
scoreboard players add @a m 0
execute as @a at @s run titleraw @s actionbar {"rawtext":[  {"text":"§6Money§r : "},{"score":{"name":"@s","objective":"m"}},{"text":""}]}

-- (คอมมานใน NPC ตัวหลัก) --
tag @initiator add b

-- (คอมมานใน NPC b ตัวซื้อ) --
playsound mob.villager.no @initiator[scores={m=..19}]
playsound note.harp @initiator[scores={m=..19}]
tellraw @initiator[scores={m=..19}] {"rawtext":[{"text":" §eคนขายของ§r: §cซื้อไม่สำเร็จ§r"}]}
playsound mob.villager.yes @initiator[scores={m=20..}]
playsound note.bell @initiator[scores={m=20..}]
tellraw @initiator[scores={m=20..}] {"rawtext":[{"text":" §eคนขายของ§r: §aซื้อสำเร็จ§r"}]}
give @initiator[scores={m=20..}] wooden_sword 1
scoreboard players remove @initiator[scores={m=20..}] m 20

tag @initiator remove b
      </div>
    </section>

    <footer>© MC Command Bedrock</footer>
  </main>
</div>

<!-- small nav flash (visual only) -->
<div id="navFlash" class="navFlash" aria-hidden="true"></div>

<script>
(() => {
  // Elements
  const hamb = document.getElementById('hambBtn');
  const sidebar = document.getElementById('sidebar');
  const overlay = document.getElementById('overlay');
  const closeBtn = document.getElementById('closeBtn');
  const links = document.querySelectorAll('a[target="_self"]');
  const navFlash = document.getElementById('navFlash');

  // Open/close sidebar
  function openSidebar(){
    sidebar.classList.add('open');
    overlay.classList.add('show');
    sidebar.setAttribute('aria-hidden','false');
    overlay.setAttribute('aria-hidden','false');
    document.documentElement.style.overflow = 'hidden';
  }
  function closeSidebar(){
    sidebar.classList.remove('open');
    overlay.classList.remove('show');
    sidebar.setAttribute('aria-hidden','true');
    overlay.setAttribute('aria-hidden','true');
    document.documentElement.style.overflow = '';
  }
  hamb.addEventListener('click', (e) => {
    if(sidebar.classList.contains('open')) closeSidebar();
    else openSidebar();
  });
  closeBtn.addEventListener('click', closeSidebar);
  overlay.addEventListener('click', closeSidebar);
  document.addEventListener('keydown', (ev) => { if(ev.key === 'Escape') closeSidebar(); });

  // navigation click visual (non-blocking)
  function handleNavClick(e){
    const a = e.currentTarget;
    a.classList.add('pressed');
    // quick visual flash and navigate
    navFlash.classList.add('show');
    setTimeout(()=> {
      navFlash.classList.remove('show');
      window.location.href = a.getAttribute('href');
    }, 140);
    e.preventDefault();
  }
  links.forEach(a => {
    a.addEventListener('click', handleNavClick);
    a.addEventListener('pointerup', ()=> setTimeout(()=> a.classList.remove('pressed'),150));
  });

  // page load animations: set body.ready after small delay
  window.addEventListener('DOMContentLoaded', ()=> {
    setTimeout(()=> document.body.classList.add('ready'), 80);
  });

  // DOWNLOAD button: animate + create txt download from #commands
  const downloadBtn = document.getElementById('downloadBtn');
  const commandsEl = document.getElementById('commands');
  const copyBtn = document.getElementById('copyBtn');

  function createRippleEffect(btn){
    // add class to show ripple animation and subtle shadow
    btn.classList.add('rippleing');
    setTimeout(()=> btn.classList.remove('rippleing'), 460);
  }

  // press scale (touch-friendly)
  function pressAnim(btn){
    btn.style.transform = 'scale(.97)';
    setTimeout(()=> btn.style.transform = '', 140);
  }

  downloadBtn.addEventListener('click', (e)=>{
    // animate ripple + press
    createRippleEffect(downloadBtn);
    pressAnim(downloadBtn);

    // create blob from commands text and download
    const text = commandsEl.innerText.trim();
    const blob = new Blob([text], {type:'text/plain;charset=utf-8'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'mc-commands.txt';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
  });

  // copy all button
  copyBtn.addEventListener('click', async ()=>{
    const text = commandsEl.innerText.trim();
    try{
      await navigator.clipboard.writeText(text);
      // quick feedback
      copyBtn.textContent = 'คัดลอกแล้ว';
      setTimeout(()=> copyBtn.textContent = 'คัดลอกทั้งหมด', 1000);
    }catch(err){
      // fallback: select and prompt
      const range = document.createRange();
      range.selectNodeContents(commandsEl);
      const sel = window.getSelection();
      sel.removeAllRanges();
      sel.addRange(range);
      try{ document.execCommand('copy'); copyBtn.textContent='คัดลอกแล้ว'; setTimeout(()=> copyBtn.textContent='คัดลอกทั้งหมด',1000);}catch(e){}
      sel.removeAllRanges();
    }
  });

})();
</script>
</body>
      </html>
