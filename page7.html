<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>สมัครสมาชิก | Minecraft Command</title>

<style>
*{
  box-sizing:border-box;
  font-family:system-ui;
}
body{
  margin:0;
  background:#000;
  color:#fff;
}
header{
  background:linear-gradient(90deg,#ff6a00,#ff0000);
  padding:14px;
  display:flex;
  align-items:center;
}
header img{
  height:42px;
}
.container{
  max-width:420px;
  margin:30px auto;
  padding:20px;
}
h2{
  text-align:center;
  margin-bottom:20px;
}
label{
  font-size:14px;
  margin-top:12px;
  display:block;
}
.input-box{
  position:relative;
}
input{
  width:100%;
  padding:12px;
  border-radius:8px;
  border:2px solid #ff9800;
  background:#111;
  color:#fff;
  font-size:15px;
}
.toggle{
  position:absolute;
  right:10px;
  top:50%;
  transform:translateY(-50%);
  cursor:pointer;
  font-size:14px;
}
button{
  width:100%;
  margin-top:20px;
  padding:14px;
  border:none;
  border-radius:10px;
  background:#4caf50;
  color:#fff;
  font-size:16px;
  cursor:pointer;
}
.link{
  text-align:center;
  margin-top:15px;
  color:#00bcd4;
  cursor:pointer;
}
.hidden{
  display:none;
}
</style>
</head>

<body>

<header>
  <img src="logo.png">
</header>

<div class="container">

  <!-- REGISTER -->
  <div id="registerBox">
    <h2>สมัครสมาชิก</h2>

    <label>Username</label>
    <input id="regUser">

    <label>Password</label>
    <div class="input-box">
      <input id="regPass" type="password">
      <span class="toggle" onclick="togglePass('regPass',this)">ดู</span>
    </div>

    <label>Confirm Password</label>
    <input id="regPass2" type="password">

    <label>ชื่อเล่นแสดง</label>
    <input id="regDisplay">

    <label>อีเมล</label>
    <input id="regEmail">

    <button onclick="register()">สมัครสมาชิก</button>

    <div class="link" onclick="showLogin()">กลับไปหน้าเข้าสู่ระบบ</div>
  </div>

  <!-- LOGIN -->
  <div id="loginBox" class="hidden">
    <h2>เข้าสู่ระบบ</h2>

    <label>อีเมล</label>
    <input id="loginEmail">

    <label>Password</label>
    <div class="input-box">
      <input id="loginPass" type="password">
      <span class="toggle" onclick="togglePass('loginPass',this)">ดู</span>
    </div>

    <button onclick="login()">เข้าสู่ระบบ</button>

    <div class="link" onclick="showRegister()">สมัครสมาชิก</div>
  </div>

</div>

<script>
function togglePass(id,el){
  const i=document.getElementById(id);
  if(i.type==="password"){
    i.type="text";
    el.innerText="ซ่อน";
  }else{
    i.type="password";
    el.innerText="ดู";
  }
}

function showLogin(){
  registerBox.classList.add("hidden");
  loginBox.classList.remove("hidden");
}

function showRegister(){
  loginBox.classList.add("hidden");
  registerBox.classList.remove("hidden");
}

function register(){
  const email=regEmail.value.trim();
  if(localStorage.getItem("email_"+email)){
    alert("อีเมลนี้ถูกใช้แล้ว ไอ้สัส");
    return;
  }
  if(regPass.value!==regPass2.value){
    alert("รหัสไม่ตรง");
    return;
  }

  const data={
    user:regUser.value,
    pass:regPass.value,
    display:regDisplay.value,
    email:email
  };

  localStorage.setItem("email_"+email,JSON.stringify(data));
  alert("สมัครสำเร็จ");
  showLogin();
}

function login(){
  const email=loginEmail.value.trim();
  const data=localStorage.getItem("email_"+email);
  if(!data){
    alert("ไม่พบบัญชี");
    return;
  }
  const user=JSON.parse(data);
  if(user.pass!==loginPass.value){
    alert("รหัสผิด");
    return;
  }
  localStorage.setItem("login",email);
  window.location.href="home.html";
}
</script>

</body>
</html>
