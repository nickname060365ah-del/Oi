<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>แจกคอมมานซื้อของ — By Pain</title>
<style>
:root{
  --bg:#0e0e0e; --panel:#0f0f0f; --card:#111213; --line:#222;
  --muted:#9aa0a6; --accent:#4da3ff; --white:#fff; --press:#232428;
  --transition:.26s cubic-bezier(.2,.9,.2,1); --hero-pad:20px;
}

/* base */
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--white);font-family:Inter,system-ui,"Segoe UI",Tahoma,Arial,sans-serif;-webkit-font-smoothing:antialiased}
a{color:inherit;text-decoration:none}
button{font:inherit;background:transparent;border:0;color:inherit;cursor:pointer}
* { -webkit-tap-highlight-color: transparent; }

/* topbar */
.topbar{position:sticky;top:0;z-index:60;background:var(--panel);border-bottom:1px solid var(--line);display:flex;align-items:center;gap:12px;padding:12px 14px}
.hamb{width:44px;height:44px;border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer}
.hamb svg{width:22px;height:22px;fill:var(--white)}
.brand{font-weight:800;font-size:22px;color:var(--accent);margin-left:6px}
.spacer{flex:1}
.header-img{display:none}

/* layout */
.container{display:flex;min-height:calc(100vh - 64px);position:relative;padding-bottom:40px}

/* overlay + sidebar */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,0.45);opacity:0;pointer-events:none;transition:opacity .22s;z-index:65}
.overlay.show{opacity:1;pointer-events:auto}
.sidebar{position:fixed;left:-120%;top:0;height:100%;width:86vw;max-width:420px;background:var(--panel);box-shadow:2px 0 40px rgba(0,0,0,.6);z-index:70;padding:20px;transition:left var(--transition);overflow:auto;border-right:1px solid var(--line);border-radius:0 12px 12px 0}
.sidebar.open{left:0}
.closeBtn{position:absolute;right:14px;top:14px;width:44px;height:44px;border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;background:rgba(255,255,255,0.02)}
.closeBtn svg{width:20px;height:20px;fill:var(--white);opacity:.95}
.sidebar h3{color:var(--accent);font-size:28px;margin:6px 0 14px}
.menu-list{list-style:none;padding:0;margin:0}
.menu-item{padding:16px 6px;border-bottom:1px solid var(--line);display:flex;align-items:center;justify-content:space-between}
.menu-item a{flex:1;font-size:20px;color:var(--white);padding-right:8px}
.menu-item .chev{color:var(--muted);font-size:18px}
.menu-item a:focus, .menu-item a.pressed { background:var(--press); border-radius:8px; outline:none; box-shadow:none; }

/* content */
.content{flex:1;padding:22px 16px;max-width:1100px;margin:0 auto}
.hero{padding:calc(var(--hero-pad) + 2px);border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);margin-bottom:12px;display:block}
.hero-inner{max-width:920px;padding-left:2px;}
.hero h1{
  font-size: clamp(26px, 6vw, 34px);
  line-height:1.02;margin:0 0 8px;color:var(--white);font-weight:700;text-align:left;
}
.hero p{color:var(--muted);margin:0 0 12px;max-width:820px;text-align:left;font-size:15px;line-height:1.5;opacity:.95}

/* toolbar (search + filter + download) */
.tool-row{display:flex;gap:10px;align-items:center;margin:8px 0 18px;flex-wrap:wrap}
.search{
  display:flex;align-items:center;background:var(--card);padding:8px 10px;border-radius:12px;border:1px solid var(--line);min-width:120px;flex:1;
}
.search input{background:transparent;border:0;color:var(--white);width:100%;font-size:15px}
.select{background:var(--card);padding:8px 12px;border-radius:12px;border:1px solid var(--line);min-width:120px;color:var(--white);font-size:15px;cursor:pointer}

/* download button */
.download-btn {
  background: rgb(59, 130, 246);
  color: white;
  border-radius: 14px;
  padding: 11px 18px;
  font-weight: 600;
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  min-width:140px;
  box-shadow: 0 4px 14px rgba(59,130,246,0.25);
}
.download-btn svg { width:18px; height:18px; fill:currentColor; transition:transform 0.25s ease; }
.download-btn:hover { 
  background: rgb(37, 99, 235); 
  box-shadow: 0 6px 20px rgba(59,130,246,0.35);
  transform: translateY(-1px);
}
.download-btn:active { 
  background: rgb(29, 78, 216); 
  transform: translateY(0) scale(0.97); 
  box-shadow: 0 2px 8px rgba(59,130,246,0.3);
}
.download-btn:hover svg { transform: translateY(1px); }

/* copy all button */
.btn.ghost{
  background:rgba(255,255,255,0.03);
  border:1px solid var(--line);
  color:var(--white);
  padding:11px 16px;
  border-radius:12px;
  display:inline-flex;
  align-items:center;
  gap:8px;
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  font-weight:600;
}
.btn.ghost svg { width:16px; height:16px; fill:currentColor; transition:transform 0.25s ease; }
.btn.ghost:hover { 
  background:rgba(255,255,255,0.06); 
  border-color:rgba(255,255,255,0.12);
  transform: translateY(-1px);
}
.btn.ghost:active { 
  transform: translateY(0) scale(0.97); 
  background:rgba(255,255,255,0.08);
}
.btn.ghost:hover svg { transform: scale(1.1); }

/* copy section button */
.copy-section-btn {
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
  color:var(--white);
  border-radius:10px;
  padding:8px 12px;
  font-weight:600;
  border:1px solid rgba(255,255,255,0.06);
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:7px;
  min-width:105px;
  position:absolute;
  overflow:hidden;
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  top: 8px;
  right: 12px;
  z-index: 10;
}
.copy-section-btn svg { width:15px; height:15px; fill:currentColor; transition:transform 0.25s ease; }
.copy-section-btn:hover {
  background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
  border-color:rgba(255,255,255,0.12);
  transform: translateY(-1px);
}
.copy-section-btn:active {
  transform: translateY(0) scale(0.97);
  background: linear-gradient(180deg, rgba(255,255,255,0.1), rgba(255,255,255,0.06));
}
.copy-section-btn:hover svg { transform: scale(1.08); }

/* more button (REPLACED WITH ORIGINAL VERSION YOU WANTED) */
.more-btn {
  background: linear-gradient(135deg, rgb(99, 102, 241), rgb(139, 92, 246));
  color: white;
  border-radius: 14px;
  padding: 14px 28px;
  font-weight: 700;
  font-size: 16px;
  border: 0;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  margin: 32px auto 0;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 8px 24px rgba(99, 102, 241, 0.35);
  position: relative;
  overflow: hidden;
}
.more-btn svg { width:20px; height:20px; fill:currentColor; transition:transform 0.3s ease; }

/* subtle circular pulse background used earlier */
.more-btn::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255,255,255,0.2);
  transform: translate(-50%, -50%);
  transition: width 0.5s ease, height 0.5s ease, opacity 0.5s ease;
  opacity: 0;
  pointer-events: none;
}
.more-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 32px rgba(99, 102, 241, 0.45);
}
.more-btn:hover::before {
  width: 300px;
  height: 300px;
}
.more-btn:active {
  transform: translateY(0) scale(0.96);
  box-shadow: 0 4px 16px rgba(99, 102, 241, 0.3);
}
.more-btn:hover svg { transform: translateX(3px); }
.more-btn-container { text-align:center; margin-top:40px; }

/* original shine sweep (exact likeเก่า) */
.more-btn::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -100%;
  width: 30%;
  height: 200%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  transform: skewX(-25deg);
  animation: shine 3s infinite;
}
@keyframes shine {
  0% { left: -100%; }
  50% { left: 150%; }
  100% { left: 150%; }
}

/* Ripple effect for all buttons */
.copy-section-btn::after,
.download-btn::after,
.btn.ghost::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255,255,255,0.4);
  transform: translate(-50%, -50%);
  transition: width 0.6s ease, height 0.6s ease, opacity 0.6s ease;
  opacity: 0;
  pointer-events: none;
}

.copy-section-btn:active::after,
.download-btn:active::after,
.btn.ghost:active::after {
  width: 200px;
  height: 200px;
  opacity: 0;
  transition: 0s;
}

/* content sections and code */
.section{margin-bottom:18px}
.section .heading-row{display:flex;align-items:center;gap:8px;margin-bottom:8px}
.section h3{font-size:18px;margin:0;color:var(--white);flex:1}
.lead{color:var(--muted);margin:0 0 12px}
.codewrap{background:#060606;padding:12px;padding-top:50px;border-radius:10px;border:1px solid rgba(255,255,255,0.02);overflow:auto;position:relative}
pre.cmd{margin:0;color:#e6eef8;background:transparent;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Roboto Mono, "Courier New",monospace;font-size:14px;line-height:1.5;white-space:pre-wrap;word-break:break-word}

/* animations */
.fade-in-up { animation: fadeUp .45s ease both; }
@keyframes fadeUp { from { opacity:0; transform:translateY(8px); } to { opacity:1; transform:translateY(0); } }

/* footer */
footer{padding:22px;text-align:center;color:var(--muted);border-top:1px solid var(--line);margin-top:18px}

:focus{outline:none}
</style>
</head>
<body>

<!-- topbar -->
<div class="topbar">
  <button class="hamb" id="hambBtn" aria-label="เปิดเมนู">
    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 6h18v2H3zM3 11h18v2H3zM3 16h18v2H3z"/></svg>
  </button>
  <div class="brand">MC Command</div>
  <div class="spacer"></div>
  <div class="header-img" id="headerImg" title="user-image"></div>
</div>

<div class="container">
  <div id="overlay" class="overlay" aria-hidden="true"></div>

  <aside id="sidebar" class="sidebar" aria-hidden="true" role="navigation">
    <div class="closeBtn" id="closeBtn" aria-label="ปิดเมนู">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M18.3 5.71L12 12l6.3 6.29-1.41 1.42L10.59 13.4 4.29 19.71 2.88 18.29 9.18 12 2.88 5.71 4.29 4.29 10.59 10.6 16.89 4.29z"/></svg>
    </div>

    <h3>เมนู</h3>

    <ul class="menu-list" id="menuList">
      <li class="menu-item"><a href="index.html" target="_self">หน้าแรก</a><span class="chev">›</span></li>
      <li class="menu-item"><a href="commands.html" target="_self">คำสั่งทั้งหมด</a><span class="chev">›</span></li>
      <li class="menu-item"><a href="about.html" target="_self">เกี่ยวกับ</a><span class="chev">›</span></li>
    </ul>

  </aside>

  <main class="content" id="mainContent" role="main">
    <section class="hero" aria-labelledby="heroTitle">
      <div class="hero-inner">
        <h1 id="heroTitle">แจกคอมมานซื้อของ — By Pain</h1>
        <p>รวมคำสั่ง Minecraft Bedrock (แจกระบบซื้อของใน NPC) — จัดเป็นหมวด อ่านง่าย ก๊อปได้จริง</p>
      </div>
    </section>

    <!-- tools -->
    <div class="tool-row">
      <div class="search">
        <svg style="width:16px;height:16px;opacity:.6;margin-right:8px" viewBox="0 0 24 24"><path fill="currentColor" d="M9.5 3A6.5 6.5 0 1 1 3 9.5 6.507 6.507 0 0 1 9.5 3m0-2A8.5 8.5 0 1 0 18 9.5 8.509 8.509 0 0 0 9.5 1z"/><path fill="currentColor" d="M20.71 20.29l-4.4-4.39"/></svg>
        <input id="searchInput" placeholder="ค้นหา... (เช่น give, tag, playsound)" />
      </div>

      <select id="filterSelect" class="select" aria-label="กรองหมวด">
        <option value="all">ทั้งหมด</option>
        <option value="chat">คำสั่งช่องแชท</option>
        <option value="cmdblock">คำสั่งคอมมานบล็อก</option>
        <option value="npc">คำสั่ง NPC</option>
      </select>

      <button id="downloadBtn" class="download-btn" aria-label="ดาวน์โหลด">
        <svg viewBox="0 0 24 24"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/></svg>
        ดาวน์โหลด
      </button>

      <button id="copyAllBtn" class="btn ghost">
        <svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
        คัดลอกทั้งหมด
      </button>
    </div>

    <!-- content sections -->
    <section class="section" data-cat="chat" id="sec-chat">
      <div class="heading-row">
        <h3>คำสั่งในช่องแชท</h3>
      </div>
      <p class="lead">แนะนำก๊อปทีละคำสั่งแล้ววาง</p>
      <div class="codewrap fade-in-up">
        <button class="copy-section-btn" data-target="chatCommands">
          <svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
          คัดลอก
        </button>
<pre id="chatCommands" class="cmd">
1. /give @s command_block
2. /give @s spawn_egg 1 51
3. /gamerule commandblockoutput false
4. /gamerule sendcommandfeedback false
5. /tickingarea add circle ~~~ 4 t
6. /scoreboard objectives add m dummy

/tag @n[type=npc] add b
</pre>
      </div>
    </section>

    <section class="section" data-cat="cmdblock" id="sec-cmd">
      <div class="heading-row">
        <h3>คำสั่งในคอมมานบล็อก</h3>
      </div>
      <p class="lead">คำสั่งที่จะใส่ในคอมมานบล็อกสีม่วง - ทำงานตลอด</p>
      <div class="codewrap fade-in-up">
        <button class="copy-section-btn" data-target="cmdBlockCommands">
          <svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
          คัดลอก
        </button>
<pre id="cmdBlockCommands" class="cmd">
1. dialogue open @e[type=npc,tag=b] @a[tag=b]

2. scoreboard players add @a m 0

3. execute as @a at @s run titleraw @s actionbar {"rawtext":[{"text":"§6Money  §r : "},{"score":{"name":"@s","objective":"m"}}]}
</pre>
      </div>
    </section>

    <section class="section" data-cat="npc" id="sec-npc-main">
      <div class="heading-row">
        <h3>คำสั่งใน NPC (ตัวหลักพูดคุย)</h3>
      </div>
      <p class="lead">คำสั่งสำหรับ NPC ตัวหลัก</p>
      <div class="codewrap fade-in-up">
        <button class="copy-section-btn" data-target="npcMain">
          <svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
          คัดลอก
        </button>
<pre id="npcMain" class="cmd">
1. /tag @initiator add b
</pre>
      </div>
    </section>

    <section class="section" data-cat="npc" id="sec-npc-buy">
      <div class="heading-row">
        <h3>คำสั่งใน NPC (ตัวซื้อของ)</h3>
      </div>
      <p class="lead">คำสั่งสำหรับ NPC ซื้อของ</p>
      <div class="codewrap fade-in-up">
        <button class="copy-section-btn" data-target="npcBuy">
          <svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
          คัดลอก
        </button>
<pre id="npcBuy" class="cmd">
1. playsound mob.villager.no @initiator[scores={m=..19}]
playsound note.harp @initiator[scores={m=..19}]
tellraw @initiator[scores={m=..19}] {"rawtext":[{"text":" §eคนขายของ§r: §cซื้อไม่สำเร็จ§r"}]}
playsound mob.villager.yes @initiator[scores={m=20..}]
playsound note.bell @initiator[scores={m=20..}]
tellraw @initiator[scores={m=20..}] {"rawtext":[{"text":" §eคนขายของ§r: §aซื้อสำเร็จ§r"}]}
give @initiator[scores={m=20..}] wooden_sword 1
scoreboard players remove @initiator[scores={m=20..}] m 20

2. /tag @initiator remove b
</pre>
      </div>
    </section>

    <!-- More Button -->
    <div class="more-btn-container">
      <button class="more-btn" id="moreBtn" onclick="window.location.href='more.html'">
        เพิ่มเติม
        <svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
      </button>
    </div>

    <footer>© MC Command Bedrock — By Pain</footer>
  </main>
</div>

<script>
(() => {
  const hamb = document.getElementById('hambBtn');
  const sidebar = document.getElementById('sidebar');
  const overlay = document.getElementById('overlay');
  const closeBtn = document.getElementById('closeBtn');
  const searchInput = document.getElementById('searchInput');
  const filterSelect = document.getElementById('filterSelect');
  const downloadBtn = document.getElementById('downloadBtn');
  const copyAllBtn = document.getElementById('copyAllBtn');

  const headerImg = document.getElementById('headerImg');
  if(headerImg){ headerImg.style.display='none'; setTimeout(()=>headerImg.remove(),80); }

  function openSidebar(){ sidebar.classList.add('open'); overlay.classList.add('show'); sidebar.setAttribute('aria-hidden','false'); overlay.setAttribute('aria-hidden','false'); document.documentElement.style.overflow='hidden'; }
  function closeSidebar(){ sidebar.classList.remove('open'); overlay.classList.remove('show'); sidebar.setAttribute('aria-hidden','true'); overlay.setAttribute('aria-hidden','true'); document.documentElement.style.overflow=''; }
  hamb.addEventListener('click', ()=> sidebar.classList.contains('open') ? closeSidebar() : openSidebar());
  closeBtn.addEventListener('click', closeSidebar);
  overlay.addEventListener('click', closeSidebar);
  document.addEventListener('keydown', (ev)=>{ if(ev.key === 'Escape') closeSidebar(); });

  const sections = Array.from(document.querySelectorAll('section.section'));
  function applyFilter(){
    const q = (searchInput.value||'').trim().toLowerCase();
    const cat = filterSelect.value;
    sections.forEach(sec=>{
      const catMatch = (cat === 'all') || (sec.dataset.cat === cat);
      const text = (sec.innerText || '').toLowerCase();
      const qMatch = q === '' || text.indexOf(q) !== -1;
      const show = catMatch && qMatch;
      sec.style.display = show ? '' : 'none';
    });
  }
  searchInput.addEventListener('input', applyFilter);
  filterSelect.addEventListener('change', applyFilter);
  applyFilter();

  function extractCommands(text) {
    const lines = text.split('\n');
    const commands = [];
    
    lines.forEach(line => {
      line = line.trim();
      if (!line) return;
      
      let cleanLine = line;
      cleanLine = cleanLine.replace(/^\d+\.\s*/, '');
      cleanLine = cleanLine.replace(/\s*\([^)]*\)\s*$/, '');
      
      const commandMatch = cleanLine.match(/\/(give|tag|gamerule|tickingarea|scoreboard|dialogue|execute|playsound|tellraw)\s+.*/);
      if (commandMatch) {
        commands.push('/' + commandMatch[0].substring(1));
        return;
      }
      
      if (cleanLine.match(/^(give|tag|gamerule|tickingarea|scoreboard|dialogue|execute|playsound|tellraw)\s+/)) {
        commands.push(cleanLine);
      }
    });
    
    return commands.join('\n');
  }

  function collectVisibleCommands(){
    const visible = Array.from(document.querySelectorAll('section.section'))
      .filter(s => s.style.display !== 'none')
      .map(s => {
        const h = s.querySelector('h3') ? s.querySelector('h3').innerText.trim() : '';
        const pre = s.querySelector('pre.cmd');
        const content = pre ? extractCommands(pre.innerText) : '';
        return (h && content ? "# " + h + "\n" : "") + content;
      }).filter(Boolean);
    return visible.join("\n\n");
  }

  downloadBtn.addEventListener('click', (e)=>{
    const text = collectVisibleCommands();
    if(!text){ alert('ไม่มีคำสั่งที่มองเห็นเพื่อดาวน์โหลด'); return; }

    const blob = new Blob([text], {type: 'text/plain;charset=utf-8'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'mc-commands-by-pain.txt';
    document.body.appendChild(a);
    a.click();
    a.remove();
    setTimeout(()=> URL.revokeObjectURL(url), 1500);
  });

  copyAllBtn.addEventListener('click', async ()=>{
    const text = collectVisibleCommands();
    if(!text){ alert('ไม่มีคำสั่งที่มองเห็นให้คัดลอก'); return; }
    try{
       await navigator.clipboard.writeText(text);
      const orig = copyAllBtn.innerHTML;
      copyAllBtn.innerHTML = '<svg viewBox="0 0 24 24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>คัดลอกแล้ว';
      setTimeout(()=> copyAllBtn.innerHTML = orig, 1400);
    }catch(e){
      alert('คัดลอกไม่สำเร็จ — เบราเซอร์นี้ไม่รองรับการคัดลอกอัตโนมัติ');
    }
  });

  document.querySelectorAll('.copy-section-btn').forEach(btn=>{
    btn.addEventListener('click', async (ev)=>{
      const targetId = btn.getAttribute('data-target');
      const pre = document.getElementById(targetId);
      if(!pre){ alert('ไม่พบข้อมูลที่จะคัดลอก'); return; }
      
      const text = extractCommands(pre.innerText);
      if(!text){ alert('หมวดนี้ไม่มีคำสั่ง'); return; }

      try{
        await navigator.clipboard.writeText(text);
        const origHTML = btn.innerHTML;
        btn.innerHTML = '<svg viewBox="0 0 24 24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>คัดลอกแล้ว';
        setTimeout(()=> btn.innerHTML = origHTML, 1300);
      }catch(e){
        alert('คัดลอกไม่สำเร็จ — เบราเซอร์นี้ไม่รองรับการคัดลอกอัตโนมัติ');
      }
    });
  });

  document.querySelectorAll('pre.cmd').forEach(pre=>{
    pre.addEventListener('click', ()=> {
      pre.style.background = 'rgba(255,255,255,0.01)';
      pre.style.border = '1px solid rgba(255,255,255,0.03)';
      setTimeout(()=>{ pre.style.background = ''; pre.style.border = ''; }, 200);
    });
  });

})();
</script>
</body>
</html>
